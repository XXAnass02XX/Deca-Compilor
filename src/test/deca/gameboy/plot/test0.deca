#include "GameBoy.java"

class A {
    void f() asm(
        "
        WaitVBlank:
                        	ld a, [rLY]
                        	cp 144
                        	jp c, WaitVBlank

ld a, 0
	ld [rLCDC], a
        ; On met les tiles elementaires dans la mémoire
                ld de, ElementaryTiles
                ld hl, $97c0; Ce seront les quatres dernières tiles
                ld bc, ElementaryTilesEnd - ElementaryTiles
                call CopyDEintoMemoryAtHL




                        ld hl, $9800
                        ld [hl], $7c

                ; Turn the LCD on
                        ld a, LCDCF_ON | LCDCF_BGON | LCDCF_OBJON
                        ld [rLCDC], a
ld a, %11100100
	ld [rBGP], a
	    Fin:
	        halt
	        jp Fin

                ret; comme ça on essaie pas d executer la suite





        "
    );
    void g() asm(
        "
        WaitVBlank2:
        	ld a, [rLY]
        	cp 144
        	jp c, WaitVBlank2
        	ld a, 0
        	ld [rLCDC], a
        	ld de, Tiles
        	ld hl, $9000
        	ld bc, TilesEnd - Tiles
        CopyTiles:
        	ld a, [de]
        	ld [hli], a
        	inc de
        	dec bc
        	ld a, b
        	or a, c
        	jp nz, CopyTiles
        	ld de, Tilemap
        	ld hl, $9800
        	ld bc, TilemapEnd - Tilemap
        CopyTilemap:
        	ld a, $10
        	ld [hli], a
        	inc de
        	dec bc
        	ld a, b
        	or a, c
        	jp nz, CopyTilemap
        	ld a, LCDCF_ON | LCDCF_BGON
        	ld [rLCDC], a
        	ld a, %11100100
        	ld [rBGP], a
            ret
        	reFin:
            	        halt
            	        jp reFin
        "
    );
}

{
    A a = new A();
    a.g();
    //println();
    //a.f();
}